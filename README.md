### Various implementations of takeWhile with a state
